function [u] = Simulink_Control(inputs)

s = inputs(1);
theta = inputs(2);
v = inputs(3);
omega = inputs(4);
alfa = inputs(5); % o parametro h depende de alfa
if theta == 0
   sinctheta = 1;
else 
    sinctheta = sin(theta)/theta;
end

x = [s;theta;v;omega];
  %global ControllerFuzzy
 
 % Kh = ControllerFuzzy.Kh

 Kh = [(2618849312574005*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/1125899906842624 - (3557055425848009*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/1125899906842624 - (5237700466933347*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/2251799813685248 - (3429788420276555*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/1125899906842624 - (2703155711556519*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/1125899906842624 + (3429789556965867*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/1125899906842624 + (168947498365469*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/70368744177664 + (1778526843868387*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/562949953421312, (5363840624045361*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/70368744177664 + (3340817916594505*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/35184372088832 + (2471182307883365*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/35184372088832 + (1537490521861037*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/17592186044416 - (617795382360007*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/8796093022208 - (6149965683271643*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/70368744177664 - (2681923686475659*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/35184372088832 - (3340816844682671*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/35184372088832, (2742887954301153*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/281474976710656 - (6908646487840867*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/562949953421312 - (1371444338958093*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/140737488355328 - (6735880497015331*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/562949953421312 - (5593521026664613*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/562949953421312 + (3367941675428515*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/281474976710656 + (5593526406391065*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/562949953421312 + (6908644370799397*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/562949953421312, (8074102323943871*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/562949953421312 + (2529800648634109*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/140737488355328 + (7875984891041583*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/562949953421312 + (2457469935917559*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/140737488355328 - (7929035098179031*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/562949953421312 - (1235368286986693*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/70368744177664 - (4010529632377355*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/281474976710656 - (5033071430239809*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/281474976710656];
%Khinf = [(8747659259485879*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/9007199254740992 - (901756315156405*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/562949953421312 - (8747648466282679*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/9007199254740992 - (2719282865035231*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/2251799813685248 - (5909182802112201*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/4503599627370496 + (2719284268987367*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/2251799813685248 + (5909183487685935*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/4503599627370496 + (901756182032071*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/562949953421312, (1516802319882637*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/17592186044416 + (3619534662438639*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/35184372088832 + (4600630568467819*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/70368744177664 + (1384262529989879*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/17592186044416 - (2300317737113115*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/35184372088832 - (2768525842885675*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/35184372088832 - (1516801981083367*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/17592186044416 - (1809769110644795*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/17592186044416, (3441797685391947*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/281474976710656 - (5265779473921695*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/281474976710656 - (1720897115745073*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/140737488355328 - (8246249862429755*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/562949953421312 - (8854724738482663*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/562949953421312 + (1030781359098157*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/70368744177664 + (2213680451638939*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/140737488355328 + (2632890730097611*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/140737488355328, (4710563864560719*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/281474976710656 + (701398916202069*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/35184372088832 + (460779674642073*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/35184372088832 + (4431913418094521*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/281474976710656 - (464095750905565*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219))/35184372088832 - (8916886249236719*((2251799813685248*omega*sin(theta))/2358030511665991 - 4716158501352293/9432122046663964)*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 9007171601362394/3360092472997555)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/562949953421312 - (2342017179392013*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((9007199254740992*cos(theta))/2638147582215219 - (4503599627370496*2^(1/2))/2638147582215219)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964))/140737488355328 - (1396167589249219*((9007199254740992*sinctheta*cos(alfa))/3360092472997555 - 5647079128364839/3360092472997555)*((2251799813685248*omega*sin(theta))/2358030511665991 + 4715963545311671/9432122046663964)*((4503599627370496*2^(1/2))/2638147582215219 - (9007199254740992*cos(theta))/2638147582215219 + 1))/70368744177664];

 u = Kh*x;
%u = Khinf*x;

end

